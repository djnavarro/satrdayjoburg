<!DOCTYPE html>
<html>
  <head>
    <title>Data Visualisation in R</title>
    <meta charset="utf-8">
    <meta name="author" content="  Danielle Navarro    <span>&lt;i class="fab  fa-twitter faa-float animated "&gt;&lt;/i&gt; @djnavarro</span>" />
    <link href="libs/remark-css/kunoichi.css" rel="stylesheet" />
    <link href="libs/remark-css/ninjutsu.css" rel="stylesheet" />
    <link href="libs/font-awesome-animation/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="libs/fontawesome/js/fontawesome-all.min.js"></script>
    <link rel="stylesheet" href="assets\ninpo.css" type="text/css" />
    <link rel="stylesheet" href="assets\danielle.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Data Visualisation in R
## From ggplot2 to gganimate
### <br><br>Danielle Navarro    <span>&lt;i class="fab  fa-twitter faa-float animated "&gt;&lt;/i&gt; @djnavarro</span>
### <a href="https://djnavarro.github.io/satrdayjoburg/" class="uri">https://djnavarro.github.io/satrdayjoburg/</a><br><br>6 April 2019

---




class: split-two bg-main1

.column.bg-main1[.content.vmiddle.center[

# Data visualisation

&lt;br&gt;

.pull.left[.pad1[

### .orange[**What?**] Drawing pictures
### .orange[**Why?**] Understand your data
### .orange[**How?**] Using tidyverse (ggplot2)

]]

]]

.column.bg-main3[.content.vmiddle.center[

&lt;img src="images/horst_ggplot.png", width="70%"&gt;

[@allison_horst](https://twitter.com/allison_horst)

]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[The Sydney Beaches Data]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 middle center

.pull.left[.pad1[.font2[

```r
beaches &lt;- here("data","sydneybeaches2.csv") %&gt;% read_csv() 
beaches
```

```
## # A tibble: 3,690 x 14
##    council  long   lat date       site  beachbugs    id region rain_mm
##    &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
##  1 Randwi~  151. -33.9 2013-01-02 Clov~        19    25 Sydne~     0  
##  2 Randwi~  151. -33.9 2013-01-06 Clov~         3    25 Sydne~     0  
##  3 Randwi~  151. -33.9 2013-01-12 Clov~         2    25 Sydne~     0  
##  4 Randwi~  151. -33.9 2013-01-18 Clov~        13    25 Sydne~     0  
##  5 Randwi~  151. -33.9 2013-01-30 Clov~         8    25 Sydne~     0.6
##  6 Randwi~  151. -33.9 2013-02-05 Clov~         7    25 Sydne~     0.1
##  7 Randwi~  151. -33.9 2013-02-11 Clov~        11    25 Sydne~     8  
##  8 Randwi~  151. -33.9 2013-02-23 Clov~        97    25 Sydne~     7.2
##  9 Randwi~  151. -33.9 2013-03-07 Clov~         3    25 Sydne~     0  
## 10 Randwi~  151. -33.9 2013-03-25 Clov~         0    25 Sydne~     0  
## # ... with 3,680 more rows, and 5 more variables: temp_airport &lt;dbl&gt;,
## #   year &lt;dbl&gt;, month &lt;dbl&gt;, day &lt;dbl&gt;, season &lt;chr&gt;
```
]]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Painting a Picture]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[

## A grammar...

- grammars compose &amp; reuse small parts
- complex structures from simpler units

## ...of graphics

- uses the "painters model"
- a plot is built in layers
- each layer is drawn on top of the last

]]]
]]

.column.bg-main3[.content.vmiddle.center[

&lt;img src="images/trinity-treft-696428-unsplash.jpg", width="70%"&gt;

[Image credit: Trinity Treft](https://unsplash.com/photos/waYWz3vAYJQ)

]]







&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[

A blank canvas


```r
ggplot()
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/blankcanvas-1.png)&lt;!-- --&gt;

]]
]]






&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
Specify the data

```r
ggplot(
* data = beaches
)
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/stillblankcanvas-1.png)&lt;!-- --&gt;

]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Specify the aesthetics

```r
ggplot(
  data = beaches,
* mapping = aes(
*   x = temp_airport,
*   y = rain_mm
* )
)
```

- x-axis location
- y-axis location
- colour of marker
- fill of a marker
- shape of a marker
]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/aesthetics-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Add a layer

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
*geom_point()
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_layer-1.png)&lt;!-- --&gt;

]]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Add layer-specific aesthetics

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
*geom_point(size = 3)
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_fixedaesthetic-1.png)&lt;!-- --&gt;

]]
]]






&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Add layer-specific mappings

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
geom_point(
* mapping = aes(colour = season),
  size = 3
)   
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_layeraesthetic-1.png)&lt;!-- --&gt;

]]
]]






&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Add more layers

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
geom_point(
  mapping = aes(colour = season),
  size = 3
) + 
*geom_rug()
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/two_layers-1.png)&lt;!-- --&gt;

]]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Split into facets

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
geom_point(
  mapping = aes(colour = season), 
  size = 2
) + 
geom_rug() + 
*facet_wrap(vars(season))
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_facets-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Remove an unwanted legend

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
geom_point(
  mapping = aes(colour = season), 
  size = 2,
* show.legend = FALSE
) + 
geom_rug() + 
facet_wrap(vars(season)) 
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/remove_legend-1.png)&lt;!-- --&gt;

]]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Modify the theme

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm
  ) 
) + 
geom_point(
  mapping = aes(colour = season), 
  size = 2,
  show.legend = FALSE 
) + 
geom_rug() + 
facet_wrap(vars(season)) + 
*theme_bw()
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_theme-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
(Nothing to see here...)

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm)) + 
geom_point(
  mapping = aes(colour = season), 
  size = 2,
  show.legend = FALSE) + 
geom_rug() + 
facet_wrap(vars(season)) + 
*theme_bw()
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_theme2-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Make nicer titles

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm)) + 
geom_point(
  mapping = aes(colour = season), 
  size = 2,
  show.legend = FALSE) +  
geom_rug() + 
facet_wrap(vars(season)) + 
theme_bw() +
*ggtitle(
* label = "Sydney weather by season",
* subtitle = "Data from 2013 to 2018"
*) +
*xlab("Temperature (Celsius)") +
*ylab("Rainfall (mm)")
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_titles-1.png)&lt;!-- --&gt;

]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
Done!

```r
ggplot(
  data = beaches,
  mapping = aes(
    x = temp_airport, 
    y = rain_mm)) + 
geom_point(
  mapping = aes(colour = season), 
  size = 2,
  show.legend = FALSE) +  
geom_rug() + 
facet_wrap(vars(season)) + 
theme_bw() +
ggtitle(
  label = "Sydney weather by season",
  subtitle = "Data from 2013 to 2018") + 
xlab("Temperature (Celsius)") +
ylab("Rainfall (mm)") 
```
]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/done-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Ingredients of this plot/cake 
- Data
- Aesthetics
- Layers
- Facets
- Theme
- Labels
- (Coordinates)
- (Scales)
]]]
]






&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: center middle hide-slide-number

.pad1[
.font4[
Exercise: Test drive with ggplot2 &lt;br&gt;
https://djnavarro.github.io/some_url_here
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Introducing ggplot objects]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Let's create a plot with no layers!

```r
pic &lt;- ggplot(
  data = beaches,
  mapping = aes(x = temp_airport) 
) + 
facet_wrap(vars(season)) + 
theme_bw() +
ggtitle( 
  label = "Sydney temperature by season",
  subtitle = "Data from 2013 to 2018"
) + 
xlab("Temperature (Celsius)") +
ylab("") 
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[


]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Let's create a plot with no layers!

```r
pic &lt;- ggplot(
  data = beaches,
  mapping = aes(x = temp_airport) 
) + 
facet_wrap(vars(season)) + 
theme_bw() +
ggtitle( 
  label = "Sydney temperature by season",
  subtitle = "Data from 2013 to 2018"
) +
xlab("Temperature (Celsius)") +
ylab("") 

*plot(pic)
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/baseplot_plotted-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Let's create a plot with no layers!

```r
pic &lt;- ggplot(
  data = beaches,
  mapping = aes(x = temp_airport) 
) + 
facet_wrap(vars(season)) + 
theme_bw() +
ggtitle( 
  label = "Sydney temperature by season",
  subtitle = "Data from 2013 to 2018"
) +
xlab("Temperature (Celsius)") +
ylab("") 

*print(pic)
```

]]]
]]

.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/baseplot_printed-1.png)&lt;!-- --&gt;

]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
What are you????

```r
class(pic)
```

```
## [1] "gg"     "ggplot"
```
]]]
]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
What is in you????

```r
str(pic)
```

```
## List of 9
##  $ data       :Classes 'spec_tbl_df', 'tbl_df', 'tbl' and 'data.frame':	3690 obs. of  14 variables:
##   ..$ council     : chr [1:3690] "Randwick Council" "Randwick Council" "Randwick Council" "Randwick Council" ...
##   ..$ long        : num [1:3690] 151 151 151 151 151 ...
##   ..$ lat         : num [1:3690] -33.9 -33.9 -33.9 -33.9 -33.9 ...
##   ..$ date        : Date[1:3690], format: "2013-01-02" ...
##   ..$ site        : chr [1:3690] "Clovelly Beach" "Clovelly Beach" "Clovelly Beach" "Clovelly Beach" ...
##   ..$ beachbugs   : num [1:3690] 19 3 2 13 8 7 11 97 3 0 ...
##   ..$ id          : num [1:3690] 25 25 25 25 25 25 25 25 25 25 ...
##   ..$ region      : chr [1:3690] "Sydney City Ocean Beaches" "Sydney City Ocean Beaches" "Sydney City Ocean Beaches" "Sydney City Ocean Beaches" ...
##   ..$ rain_mm     : num [1:3690] 0 0 0 0 0.6 0.1 8 7.2 0 0 ...
##   ..$ temp_airport: num [1:3690] 23.4 30.3 31.4 46.4 26.6 25.7 22.2 24.8 29.1 25.8 ...
##   ..$ year        : num [1:3690] 2013 2013 2013 2013 2013 ...
##   ..$ month       : num [1:3690] 1 1 1 1 1 2 2 2 3 3 ...
##   ..$ day         : num [1:3690] 2 6 12 18 30 5 11 23 7 25 ...
##   ..$ season      : chr [1:3690] "Summer" "Summer" "Summer" "Summer" ...
##   ..- attr(*, "spec")=
##   .. .. cols(
##   .. ..   council = col_character(),
##   .. ..   long = col_double(),
##   .. ..   lat = col_double(),
##   .. ..   date = col_date(format = ""),
##   .. ..   site = col_character(),
##   .. ..   beachbugs = col_double(),
##   .. ..   id = col_double(),
##   .. ..   region = col_character(),
##   .. ..   rain_mm = col_double(),
##   .. ..   temp_airport = col_double(),
##   .. ..   year = col_double(),
##   .. ..   month = col_double(),
##   .. ..   day = col_double(),
##   .. ..   season = col_character()
##   .. .. )
##  $ layers     : list()
##  $ scales     :Classes 'ScalesList', 'ggproto', 'gg' &lt;ggproto object: Class ScalesList, gg&gt;
##     add: function
##     clone: function
##     find: function
##     get_scales: function
##     has_scale: function
##     input: function
##     n: function
##     non_position_scales: function
##     scales: list
##     super:  &lt;ggproto object: Class ScalesList, gg&gt; 
##  $ mapping    :List of 1
##   ..$ x: language ~temp_airport
##   .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
##   ..- attr(*, "class")= chr "uneval"
##  $ theme      :List of 59
##   ..$ line                 :List of 6
##   .. ..$ colour       : chr "black"
##   .. ..$ size         : num 0.5
##   .. ..$ linetype     : num 1
##   .. ..$ lineend      : chr "butt"
##   .. ..$ arrow        : logi FALSE
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_line" "element"
##   ..$ rect                 :List of 5
##   .. ..$ fill         : chr "white"
##   .. ..$ colour       : chr "black"
##   .. ..$ size         : num 0.5
##   .. ..$ linetype     : num 1
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ text                 :List of 11
##   .. ..$ family       : chr ""
##   .. ..$ face         : chr "plain"
##   .. ..$ colour       : chr "black"
##   .. ..$ size         : num 11
##   .. ..$ hjust        : num 0.5
##   .. ..$ vjust        : num 0.5
##   .. ..$ angle        : num 0
##   .. ..$ lineheight   : num 0.9
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 0pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : logi FALSE
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.title.x         :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : num 1
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 2.75pt 0pt 0pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.title.x.top     :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : num 0
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 2.75pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.title.y         :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : num 1
##   .. ..$ angle        : num 90
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 2.75pt 0pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.title.y.right   :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : num 0
##   .. ..$ angle        : num -90
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 0pt 2.75pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.text            :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : chr "grey30"
##   .. ..$ size         : 'rel' num 0.8
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : NULL
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.text.x          :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : num 1
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 2.2pt 0pt 0pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.text.x.top      :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : num 0
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 2.2pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.text.y          :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : num 1
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 2.2pt 0pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.text.y.right    :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : num 0
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 0pt 2.2pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ axis.ticks           :List of 6
##   .. ..$ colour       : chr "grey20"
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ lineend      : NULL
##   .. ..$ arrow        : logi FALSE
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_line" "element"
##   ..$ axis.ticks.length    : 'unit' num 2.75pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ axis.line            : list()
##   .. ..- attr(*, "class")= chr [1:2] "element_blank" "element"
##   ..$ axis.line.x          : NULL
##   ..$ axis.line.y          : NULL
##   ..$ legend.background    :List of 5
##   .. ..$ fill         : NULL
##   .. ..$ colour       : logi NA
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ legend.margin        : 'margin' num [1:4] 5.5pt 5.5pt 5.5pt 5.5pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ legend.spacing       : 'unit' num 11pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ legend.spacing.x     : NULL
##   ..$ legend.spacing.y     : NULL
##   ..$ legend.key           :List of 5
##   .. ..$ fill         : chr "white"
##   .. ..$ colour       : logi NA
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ legend.key.size      : 'unit' num 1.2lines
##   .. ..- attr(*, "valid.unit")= int 3
##   .. ..- attr(*, "unit")= chr "lines"
##   ..$ legend.key.height    : NULL
##   ..$ legend.key.width     : NULL
##   ..$ legend.text          :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : 'rel' num 0.8
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : NULL
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ legend.text.align    : NULL
##   ..$ legend.title         :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : num 0
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : NULL
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ legend.title.align   : NULL
##   ..$ legend.position      : chr "right"
##   ..$ legend.direction     : NULL
##   ..$ legend.justification : chr "center"
##   ..$ legend.box           : NULL
##   ..$ legend.box.margin    : 'margin' num [1:4] 0cm 0cm 0cm 0cm
##   .. ..- attr(*, "valid.unit")= int 1
##   .. ..- attr(*, "unit")= chr "cm"
##   ..$ legend.box.background: list()
##   .. ..- attr(*, "class")= chr [1:2] "element_blank" "element"
##   ..$ legend.box.spacing   : 'unit' num 11pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ panel.background     :List of 5
##   .. ..$ fill         : chr "white"
##   .. ..$ colour       : logi NA
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ panel.border         :List of 5
##   .. ..$ fill         : logi NA
##   .. ..$ colour       : chr "grey20"
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ panel.spacing        : 'unit' num 5.5pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ panel.spacing.x      : NULL
##   ..$ panel.spacing.y      : NULL
##   ..$ panel.grid           :List of 6
##   .. ..$ colour       : chr "grey92"
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ lineend      : NULL
##   .. ..$ arrow        : logi FALSE
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_line" "element"
##   ..$ panel.grid.minor     :List of 6
##   .. ..$ colour       : NULL
##   .. ..$ size         : 'rel' num 0.5
##   .. ..$ linetype     : NULL
##   .. ..$ lineend      : NULL
##   .. ..$ arrow        : logi FALSE
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_line" "element"
##   ..$ panel.ontop          : logi FALSE
##   ..$ plot.background      :List of 5
##   .. ..$ fill         : NULL
##   .. ..$ colour       : chr "white"
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ plot.title           :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : 'rel' num 1.2
##   .. ..$ hjust        : num 0
##   .. ..$ vjust        : num 1
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 5.5pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ plot.subtitle        :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : num 0
##   .. ..$ vjust        : num 1
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 0pt 0pt 5.5pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ plot.caption         :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : 'rel' num 0.8
##   .. ..$ hjust        : num 1
##   .. ..$ vjust        : num 1
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 5.5pt 0pt 0pt 0pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ plot.tag             :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : 'rel' num 1.2
##   .. ..$ hjust        : num 0.5
##   .. ..$ vjust        : num 0.5
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : NULL
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ plot.tag.position    : chr "topleft"
##   ..$ plot.margin          : 'margin' num [1:4] 5.5pt 5.5pt 5.5pt 5.5pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ strip.background     :List of 5
##   .. ..$ fill         : chr "grey85"
##   .. ..$ colour       : chr "grey20"
##   .. ..$ size         : NULL
##   .. ..$ linetype     : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_rect" "element"
##   ..$ strip.placement      : chr "inside"
##   ..$ strip.text           :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : chr "grey10"
##   .. ..$ size         : 'rel' num 0.8
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : NULL
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : 'margin' num [1:4] 4.4pt 4.4pt 4.4pt 4.4pt
##   .. .. ..- attr(*, "valid.unit")= int 8
##   .. .. ..- attr(*, "unit")= chr "pt"
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ strip.text.x         : NULL
##   ..$ strip.text.y         :List of 11
##   .. ..$ family       : NULL
##   .. ..$ face         : NULL
##   .. ..$ colour       : NULL
##   .. ..$ size         : NULL
##   .. ..$ hjust        : NULL
##   .. ..$ vjust        : NULL
##   .. ..$ angle        : num -90
##   .. ..$ lineheight   : NULL
##   .. ..$ margin       : NULL
##   .. ..$ debug        : NULL
##   .. ..$ inherit.blank: logi TRUE
##   .. ..- attr(*, "class")= chr [1:2] "element_text" "element"
##   ..$ strip.switch.pad.grid: 'unit' num 2.75pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..$ strip.switch.pad.wrap: 'unit' num 2.75pt
##   .. ..- attr(*, "valid.unit")= int 8
##   .. ..- attr(*, "unit")= chr "pt"
##   ..- attr(*, "class")= chr [1:2] "theme" "gg"
##   ..- attr(*, "complete")= logi TRUE
##   ..- attr(*, "validate")= logi TRUE
##  $ coordinates:Classes 'CoordCartesian', 'Coord', 'ggproto', 'gg' &lt;ggproto object: Class CoordCartesian, Coord, gg&gt;
##     aspect: function
##     backtransform_range: function
##     clip: on
##     default: TRUE
##     distance: function
##     expand: TRUE
##     is_free: function
##     is_linear: function
##     labels: function
##     limits: list
##     modify_scales: function
##     range: function
##     render_axis_h: function
##     render_axis_v: function
##     render_bg: function
##     render_fg: function
##     setup_data: function
##     setup_layout: function
##     setup_panel_params: function
##     setup_params: function
##     transform: function
##     super:  &lt;ggproto object: Class CoordCartesian, Coord, gg&gt; 
##  $ facet      :Classes 'FacetWrap', 'Facet', 'ggproto', 'gg' &lt;ggproto object: Class FacetWrap, Facet, gg&gt;
##     compute_layout: function
##     draw_back: function
##     draw_front: function
##     draw_labels: function
##     draw_panels: function
##     finish_data: function
##     init_scales: function
##     map_data: function
##     params: list
##     setup_data: function
##     setup_params: function
##     shrink: TRUE
##     train_scales: function
##     vars: function
##     super:  &lt;ggproto object: Class FacetWrap, Facet, gg&gt; 
##  $ plot_env   :&lt;environment: R_GlobalEnv&gt; 
##  $ labels     :List of 4
##   ..$ y       : chr ""
##   ..$ x       : chr "Temperature (Celsius)"
##   ..$ title   : chr "Sydney temperature by season"
##   ..$ subtitle: chr "Data from 2013 to 2018"
##  - attr(*, "class")= chr [1:2] "gg" "ggplot"
```
]]]
]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Okaaaay .... what are the *names* of the things in you????

```r
names(pic)
```

```
## [1] "data"        "layers"      "scales"      "mapping"     "theme"      
## [6] "coordinates" "facet"       "plot_env"    "labels"
```
]]]
]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Example 1: data

```r
pic$data
```

```
## # A tibble: 3,690 x 14
##    council  long   lat date       site  beachbugs    id region rain_mm
##    &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
##  1 Randwi~  151. -33.9 2013-01-02 Clov~        19    25 Sydne~     0  
##  2 Randwi~  151. -33.9 2013-01-06 Clov~         3    25 Sydne~     0  
##  3 Randwi~  151. -33.9 2013-01-12 Clov~         2    25 Sydne~     0  
##  4 Randwi~  151. -33.9 2013-01-18 Clov~        13    25 Sydne~     0  
##  5 Randwi~  151. -33.9 2013-01-30 Clov~         8    25 Sydne~     0.6
##  6 Randwi~  151. -33.9 2013-02-05 Clov~         7    25 Sydne~     0.1
##  7 Randwi~  151. -33.9 2013-02-11 Clov~        11    25 Sydne~     8  
##  8 Randwi~  151. -33.9 2013-02-23 Clov~        97    25 Sydne~     7.2
##  9 Randwi~  151. -33.9 2013-03-07 Clov~         3    25 Sydne~     0  
## 10 Randwi~  151. -33.9 2013-03-25 Clov~         0    25 Sydne~     0  
## # ... with 3,680 more rows, and 5 more variables: temp_airport &lt;dbl&gt;,
## #   year &lt;dbl&gt;, month &lt;dbl&gt;, day &lt;dbl&gt;, season &lt;chr&gt;
```
]]]
]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Example 2: mapping

```r
pic$mapping
```

```
## Aesthetic mapping: 
## * `x` -&gt; `temp_airport`
```
]]]
]


&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Quick overview: 
- data: the actual data
- layers: what to plot and how to render it
- scales: how to render x-axis, colour
- mapping: which variables map to which scales
- theme: visual styling information
- coordinates: how to lay it out? Cartesian, polar, etc?
- facet: how to break the plot into facets
- plot_env: environment in which to do computation
- labels: axis labels, titles etc.
]]]
]


&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: center middle hide-slide-number

.pad1[
.font4[
Exercise: Peeking inside the gg object &lt;br&gt;
https://djnavarro.github.io/some_url_here
]]


&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Layers]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Layers can compute things!

```r
pic 
```


]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/no_histogram-1.png)&lt;!-- --&gt;

]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Layers can compute things!

```r
*pic_hist &lt;- pic +
* geom_histogram()

pic_hist
```

- histograms are not "in the data"
- this is computed by the layer...
- (...sort of)

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_histogram-1.png)&lt;!-- --&gt;

]]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[

.pull.left[.pad1[.font2[
Layers can compute things!

```r
pic_hist &lt;- pic + 
  geom_histogram() 

*pic_dens &lt;- pic +
* geom_density()

pic_dens
```


]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/add_density-1.png)&lt;!-- --&gt;

]]
]]






&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
The layer information... density

```r
pic_dens$layers
```

```
## [[1]]
## geom_density: na.rm = FALSE
## stat_density: na.rm = FALSE
## position_identity
```

Each layer specifies:
- A geom: the graphical object to be drawn
- A stat: what "statistic" it is applied to
- A position: how it is placed

]]]
]]
--

.column.bg-main3[.content.vtop.center[
.pull.left[.pad1[.font2[
The layer information... histogram

```r
pic_hist$layers
```

```
## [[1]]
## geom_bar: na.rm = FALSE
## stat_bin: binwidth = NULL, bins = NULL, na.rm = FALSE, pad = FALSE
## position_stack
```

&lt;br&gt;
- There is hidden complexity!
- It's a bit weird
- Let's dig into this...


]]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
Our histogram...

```r
pic + geom_histogram(
  stat = "bin",
  position = "stack"
) 
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-25-1.png)&lt;!-- --&gt;

]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
The exact same histogram!

```r
pic + stat_bin(
  geom = "bar",
  position = "stack"
) 
```
- How would we check?
- Is it exactly the same?
]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-27-1.png)&lt;!-- --&gt;


]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
Changing the default geom?

```r
pic + stat_bin(
  geom = "point",
  position = "stack"
) 
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-29-1.png)&lt;!-- --&gt;
]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
Another way to do the same thing

```r
pic + geom_point(
  stat = "bin",
  position = "stack"
) 
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-31-1.png)&lt;!-- --&gt;
]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-50 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[

&lt;br&gt;
## [But whhhyyyyy??????](https://cran.r-project.org/web/packages/ggplot2/vignettes/extending-ggplot2.html)

"Next we write a layer function. Unfortunately, due to an early design mistake I called these either stat\_() or geom\_(). A better decision would have been to call them layer\_() functions: that’s a more accurate description because every layer involves a stat and a geom."


]]]
]]
--
.column.bg-main3[.content.vmiddle.center[

&lt;img src="images/hadley.gif", width="70%"&gt;

[Hadley Wickham](https://cran.r-project.org/web/packages/ggplot2/vignettes/extending-ggplot2.html)

]]


&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: center middle hide-slide-number

.pad1[
.font4[
Exercise: Playing with the layers&lt;br&gt;
https://djnavarro.github.io/some_url_here
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Where are we up to?]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Ingredients we (kind of) understand
- .orange[Data] ... the tibble / data frame
- .orange[Aesthetics] ... the mappings
- .orange[Layers] ... stats, geoms and positions
- .orange[Facets] ... relatively simple (sort of)
- .orange[Labels] ... relatively simple
- Theme
- Coordinates
- Scales
]]]
]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
Ingredients that are made of magic sauce
- Data 
- Aesthetics
- Layers
- Facets
- Labels
- .orange[Theme] ... what if I want to tinker?
- .orange[Coordinates] ... what's this about? 
- .orange[Scales] ... what's this about?
]]]
]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: bg-main1

.content.vtop.center[
.pull.left[.pad1[.font2[
The rest of the banquet
- .orange[Extensions] ... how are ggplot extensions made?
- .orange[Animations] ... how do I make awesome gifs?
- .orange[Geospatial] ... maps, how are they made?
]]]
]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Themes]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Coordinates]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
Some preprocessing...

```r
rain &lt;- beaches %&gt;% 
  group_by(month, year, season) %&gt;%
  summarise(
    rain = mean(rain_mm)
  ) %&gt;%
  ungroup() %&gt;%
  spread(
    key = year, 
    value = rain
  )
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[

```
## # A tibble: 12 x 8
##    month season `2013` `2014` `2015` `2016` `2017`  `2018`
##    &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
##  1     1 Summer  0.10   0.933   4.6   12.1   2.08   4.24  
##  2     2 Summer  7.22   6.6     2.6    9.24  6.42   0.16  
##  3     3 Autumn  5.5    4.53    5.75  12.3   7.62   3.4   
##  4     4 Autumn  4.08   2.4     4.2    6.16 11.7    0.4   
##  5     5 Autumn  1.93   0.12    2.22   0.05  0.302  0.0167
##  6     6 Winter 23.8    2.92    2.96   2.68 11.5    4.04  
##  7     7 Winter  0      0       3.23   8.68  0      0.02  
##  8     8 Winter  2.08   5.43   12.4    0.2   1.56   0.633 
##  9     9 Spring  0.374 NA       6.32   2.3   0.3    0.08  
## 10    10 Spring  9.2    1.5     1.12   1.30  5.85  18     
## 11    11 Spring NA      1.5     3.32   2.32  0.12  NA     
## 12    12 Summer  0      5.05   17.6    6.72  0     NA
```
]]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x = `2013`,
    y = `2017`,
    colour = season
  )
) + 
geom_point(size = 5) 
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-35-1.png)&lt;!-- --&gt;
]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x = `2013`,
    y = `2017`,
    colour = season
  )
) + 
geom_point(size = 5) + 
*geom_abline(
* slope = 1,
* intercept = 0
*) 
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-37-1.png)&lt;!-- --&gt;
]]
]]






&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x = `2013`,
    y = `2017`,
    colour = season
  )
) + 
geom_point(size = 5) + 
geom_abline( 
  slope = 1, 
  intercept = 0 
) + 
*coord_equal()
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-39-1.png)&lt;!-- --&gt;
]]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x = `2013`,
    y = `2017`,
    colour = season
  )
) + 
geom_point(size = 5) + 
geom_abline( 
  slope = 1, 
  intercept = 0 
) + 
coord_equal(
* xlim = c(0, 25),
* ylim = c(0, 25)
)
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-41-1.png)&lt;!-- --&gt;
]]
]]




&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x = `2013`,
    y = `2017`,
    colour = season
  )
) + 
geom_point(size = 5) + 
geom_abline( 
  slope = 1, 
  intercept = 0 
) + 
*coord_cartesian(
  xlim = c(0, 25), 
  ylim = c(0, 25) 
)
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-43-1.png)&lt;!-- --&gt;
]]
]]








&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x =  month,
    y = `2017`,
    colour = season,
    fill = season
  )
) + 
geom_col()
```

]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-45-1.png)&lt;!-- --&gt;
]]
]]








&lt;!-- *********** NEW SLIDE ************** --&gt;
---
class: split-40 bg-main1

.column.bg-main1[.content.vtop.center[
.pull.left[.pad1[.font2[
A simple scatterplot

```r
ggplot(
  data = rain,
  mapping = aes(
    x =  month,
    y = `2017`,
    colour = season,
    fill = season
  )
) + 
geom_col() + 
*coord_polar()
```


]]]
]]


.column.bg-main3[.content.vtop.center[
.pad1[.font2[
![](slides_files/figure-html/unnamed-chunk-47-1.png)&lt;!-- --&gt;
]]
]]



&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 center middle hide-slide-number

.reveal-text.bg-main2[.pad1[
.font4[Scales]
]]





&lt;!-- *********** NEW SLIDE ************** --&gt;
---

class: bg-main1 middle center

.pull.left[.pad1[.font2[
- List of 
- Useful resources
- Goes here
]]]

&lt;!-- DONE --&gt;
---

class: bg-main1 middle center

## thank u, next
    </textarea>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
